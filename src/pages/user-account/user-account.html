<!--
  Generated template for the UserAccount page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Account Settings</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="content-bg">
  <div class="fill-content colored">
    <div class="spaced"></div>
  </div>
  <div class="flex-hightspaced fill-content">
    <figure class="flexfill">
      <img src="./assets/img/concrete1.jpg" class="max-fill" />
    </figure>
    <div>
      <h1 class="fixed white top">Account Settings</h1>
    </div>
  </div>

  <div id="center_template" class="main center-content">
    <div class="big-spaced">
      <div class="big-padded">
        <h2>Basic Info</h2>
        <p color="danger" font-weight="bold">{{message}}</p>
        <form [formGroup]="userForm" (ngSubmit)="saveSettings()" validate>
          <div class="decorated">
            <ion-item>
              <ion-label floating>Display Name</ion-label>
              <ion-input formControlName="displayName" type="text" [(ngModel)]="user.displayName"></ion-input>
            </ion-item>
            <ion-item *ngIf="!userForm.controls['displayName'].valid && submitted">
              <p ion-text color="danger" font-weight="bold">Please enter a valid display name.</p>
            </ion-item>

            <ion-item>
              <ion-label floating>Email Address</ion-label>
              <ion-input formControlName="email" type="email" [(ngModel)]="user.email"></ion-input>
            </ion-item>
            <ion-item *ngIf="!userForm.controls['email'].valid && submitted">
              <p ion-text color="danger" font-weight="bold">Please enter a valid email adress.</p>
            </ion-item>

            <ion-item>
              <ion-avatar *ngIf="user.photoURL" item-right class="fixed">
                <img [src]="user.photoURL">
              </ion-avatar>
              <ion-label floating>Photo URL</ion-label>
              <ion-input formControlName="photoURL" type="text" [(ngModel)]="user.photoURL"></ion-input>
            </ion-item>
            <ion-item *ngIf="!userForm.controls['photoURL'].valid && submitted">
              <p ion-text color="danger" font-weight="bold">Please enter a valid url.</p>
            </ion-item>
          </div>
          <button ion-button type="submit" color="secondary">Save</button>
        </form>
      </div>
    </div>
  </div>

  <app-footer></app-footer>
</ion-content>

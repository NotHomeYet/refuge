<!--
  Generated template for the Event page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Upcoming Events</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="content-bg">
  <app-user></app-user>
  <div class="flex-hightspaced fill-content">
    <figure class="flexfill">
      <img src="./assets/img/sitwith.jpg" class="max-fill" />
    </figure>
    <div>
      <h1 class="fixed white top">Important Events</h1>
    </div>
  </div>

  <div id="center_template" class="main center-content">
    <ion-list *ngFor="let box of b.boxes" class="decorated flexbox big-padded">
      <button ion-button *ngIf="this.auth.isAdmin" color="dark" (click)="b.deleteBox(box)" icon-only padded small>
        <ion-icon name="close-circle" ></ion-icon>
      </button>
      <button ion-button *ngIf="this.auth.isAdmin" color="dark" (click)="update(box)" icon-only padded small>
        <ion-icon name="create" ></ion-icon>
      </button>
      <h2>{{box.title}} - {{box.time | date}}</h2>
      <p class="spaced">{{box.content}}</p>
    </ion-list>

    <div class="spaced" *ngIf="this.auth.isAdmin">
      <br/><br/>
      <ion-card>
        <h3>Admin View - Events</h3>
        <ion-item>
          <ion-label floating>Title</ion-label>
          <ion-input type="text" [(ngModel)]="box.title"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label>Date</ion-label>
          <ion-input type="date" [(ngModel)]="box.date"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>Content</ion-label>
          <ion-textarea type="text" [(ngModel)]="box.content" rows="4"></ion-textarea>
        </ion-item>

        <button ion-button color="secondary" class="big-spaced" (click)="save()">Save Content</button>
      </ion-card>
    </div>
  </div>
  <app-footer></app-footer>
</ion-content>
